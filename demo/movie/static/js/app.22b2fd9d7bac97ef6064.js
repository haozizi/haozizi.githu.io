webpackJsonp([0],[,function(t,e){var s={converStar2Arr:function(t){for(var e=[],s=0;s<5;s++)s<t/2-1?e.push(1):e.push(0);return e},convertMoviesJson2Arr:function(t){for(var e=[],s=0;s<t.length;s++){var n=t[s],o=this.convertMovieJson(n);e.push(o)}return e},convertMovieJson:function(t){var e=t.title;e.length>5&&(e=e.substring(0,5)+"..");var s=t.rating.average,n=this.converStar2Arr(s),o=t.images.large;return{id:t.id,title:e,coverImg:o,score:s,starArr:n}},converMovieDetailJson:function(t){console.log(t);for(var e=t.title,s=t.summary,n=t.rating.average,o=this.converStar2Arr(n),i=t.countries[0],a=t.year,r=t.directors[0].name,c=t.images.large,l=t.genres,u=t.collect_count,v=t.reviews_count,m=[],p=0;p<t.casts.length;p++){var d=t.casts[p],f=d.name;if(f.length>6){var A=f.lastIndexOf("·")+1;f=f.substring(A,f.length)}else if(-1!=f.lastIndexOf("-")){var A=f.lastIndexOf("-")+1;f=f.substring(A,f.length)}var h=d.id,_=d.avatars.large,g={id:h,avatar:_,name:f};m.push(g)}var C={title:e,summary:s,rating:n,starScore:o,country:i,year:a,director:r,casts:m,image:c,genres:l,collectCount:u,reviewsCount:v};return console.log(C),C}};t.exports=s},function(t,e,s){s(36);var n=s(0)(s(13),s(57),null,null);t.exports=n.exports},,function(t,e,s){s(26);var n=s(0)(s(18),s(47),null,null);t.exports=n.exports},function(t,e,s){s(31);var n=s(0)(s(21),s(52),null,null);t.exports=n.exports},function(t,e,s){s(30);var n=s(0)(s(22),s(51),null,null);t.exports=n.exports},function(t,e,s){"use strict";var n=s(3),o=s(58),i=s(40),a=s.n(i),r=s(41),c=s.n(r),l=s(45),u=s.n(l),v=s(43),m=s.n(v),p=s(42),d=s.n(p);n.a.use(o.a),e.a=new o.a({routes:[{path:"/",component:a.a},{path:"/index",component:a.a},{path:"/movie",component:c.a,children:[{path:"moviemore/:url",name:"moviemore",component:u.a},{path:"movieIndex",component:m.a},{path:"movieDetail/:id",name:"movieDetail",component:d.a}]}]})},function(t,e,s){s(28);var n=s(0)(s(11),s(49),null,null);t.exports=n.exports},function(t,e,s){s(29);var n=s(0)(s(14),s(50),null,null);t.exports=n.exports},,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",methods:{setNav:function(){this.isOnShow=!this.isOnShow}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){this.$http.get("http://www.bestlianghao.cn/json/data.json").then(function(t){console.log(t)})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{uname:"lh",pws:"123"}},methods:{doSubmit:function(){var t=this.$el.querySelector("#username").value,e=this.$el.querySelector("#password").value,s="http://localhost:3000/login?username="+t+"&password="+e;this.$http.jsonp(s).then(function(t){console.log(t.body.msg)},function(){})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={created:function(){console.log("created")},mounted:function(){console.log("mounted"),this.$router.push("/movie/movieIndex")},activated:function(){console.log("activated")},deactivated:function(){console.log("deactivated")}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(2),o=s.n(n),i=s(6),a=s.n(i),r=s(5),c=s.n(r),l=s(1);e.default={data:function(){return{title:"",movie:{}}},computed:{isDone:function(){return!this.movie.title}},created:function(){var t=this,e=this.$route.params.id,s="https://api.douban.com/v2/movie/subject/"+e;this.$http.jsonp(s).then(function(e){console.log(e);var s=e.body;t.title=s.title,t.movie=l.converMovieDetailJson(s)})},components:{loading:o.a,topbar:a.a,star:c.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(44),o=s.n(n),i=s(2),a=s.n(i),r=s(1);e.default={data:function(){return{onUrl:"https://api.douban.com/v2/movie/in_theaters",topUrl:"https://api.douban.com/v2/movie/top250",comSoonUrl:"https://api.douban.com/v2/movie/coming_soon",top250:{},inTheaters:{},comSoon:{}}},computed:{isDone:function(){return!(this.top250.title&&this.inTheaters.title&&this.comSoon.title)}},created:function(){var t=this;this.$http.jsonp("https://api.douban.com/v2/movie/top250?count=3").then(function(e){t.top250=t.processData(e.data)}),this.$http.jsonp(this.onUrl+"?count=3").then(function(e){t.inTheaters=t.processData(e.data)}),this.$http.jsonp(this.comSoonUrl+"?count=3").then(function(e){t.comSoon=t.processData(e.data)})},components:{movielist:o.a,loading:a.a},methods:{processData:function(t){var e=r.convertMoviesJson2Arr(t.subjects);return{title:t.title,movies:e}}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(5),o=s.n(n);e.default={props:{movie:{type:Object}},components:{star:o.a},methods:{toDetailPage:function(t){var e=t.currentTarget.getAttribute("dataId");this.$router.push({name:"movieDetail",params:{id:e}})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),o=s.n(n),i=(s(1),s(23));e.default={data:function(){return{}},computed:{},props:{movieList:{type:Object}},components:{movieitem:o.a},created:function(){console.log("movieList created")},methods:{toMorePage:function(){var t=this.$el.querySelector(".list-title").innerHTML,e="";e=-1!==t.indexOf("正在")?i.onUrl:-1!==t.indexOf("Top")?i.topUrl:i.comSoonUrl,this.$router.push({name:"moviemore",params:{url:e}})}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(4),o=s.n(n),i=s(6),a=s.n(i),r=s(2),c=s.n(r),l=s(1);e.default={data:function(){return{title:"",movies:[]}},props:{},computed:{isDone:function(){return!(this.movies.length>0)}},components:{movieitem:o.a,topbar:a.a,loading:c.a},mounted:function(){var t=this;console.log("in movieMore ,url:"+this.$route.params.url);var e=this.$route.params.url;this.$http.jsonp(e).then(function(e){t.title=e.data.title,t.movies=l.convertMoviesJson2Arr(e.data.subjects)})}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{arrs:{type:Array},score:{type:Number}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{title:{type:String},showBack:{type:Boolean}},mounted:function(){console.log(this.title)},methods:{backToPre:function(){this.$router.back(-1)}}}},function(t,e){var s={onUrl:"https://api.douban.com/v2/movie/in_theaters",topUrl:"https://api.douban.com/v2/movie/top250",comSoonUrl:"https://api.douban.com/v2/movie/coming_soon"};t.exports=s},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),o=s(8),i=s.n(o),a=s(7),r=s(10),c=s(9);s.n(c);n.a.config.productionTip=!1,n.a.use(r.a),new n.a({el:"#app",router:a.a,template:"<App/>",components:{App:i.a}})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADQUlEQVRoQ+1Z7XETMRDdq4CkAqACSAUmFQAVJFSQdxWQVHCbCkgqSKggoQKcCjAdhAqOeZ6VR6f7kGydz/aM9ceJJa327feuCznwVRw4/zIZgLIsZ3Vdv6jq65hCywYA4J2IXIkIP+9V9dFnEMAXEfkhIif2/bWq3owFIguAMf/bY458fXUgevYbZ3KB5AK4FpHvARO/VPUTvwPAz6cOJm9UlXez184BlGV5Vdc1wdDE6B/fQjMcQpkEwOx4VhTFvKqqe0fQTGQuIm+8R1YmZFp4FpGZt/+P/kJnNroPHQyeqSrpRlcUAACISOVRulVVfrdcBoL/U4KPXdIzGnRmMkUnXkYiACE4RzbZxFIAtB5R1ei9qOiGATCaXabQiDICgGHxs0fsr6oyZGYvAF1BgHQbZpjlAwA+igi1QDun/V6u42QxlB1m1DDR2P2oBjxbZ0icj51JzRdImz60oPMC4N/0O/oNF62g7Ho7GUBMEmPuA2BypOb9ReGdhe80ABB5URQXdV1TIq2yYEwm+2gNhFZeYY648++GANTqGncmOR6PBW7AsflEK7yGAMKQmRyPRwRAu+9Kbhtp4L2qLsZiLpUOACa8D8F5luKhX7T7AcuajPPMqtTI5MuiEM3Zj0I4mCi0jsT2Moz6AACwXHe11qIoCq2q6tad2WsAAMKo6PhmUuNe0wdYNqSWseuoeZOzVuX+6bn7qqqnKwB2mJ0TnfdZVc83eXTMOwPdXCNHLU2oI3mc7yoCOe4SAJwyKjkAfvJgxUlTmjz+hxoEQB7edmh21XevnNhqkGXpvGvpe1ogP6xEfRAvzA9OwHsdhcy8WVqzuCQYVqSNudPeA4gFhiOAmIS2vd/SgA2aaHfsTUcdxG4DTNgPcJTBQSxX8mhjG4yl0gwB+EOsn6rqytlUepOfa5mQ1w+sJmiTc2UPMhvHctIxCu1KOwfRD6QIJ8mErE5ik713oTUVQG3SmHzMEtNCKgA35kieGsce9vdtgHwSizhdNJMAWFXIX1W20iNMAmBIosYAJ8uTlx7JGugD4LV+vZnbALLLawxm1zGzvrNjAOAggIzd9TFo2Z0/jLRGg7kgsgHkMpB7/wggV4K59/8DoNpcQHFIkfoAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAACAElEQVQ4jYWSPW4UQRCFv6rpWbweG2ETIhwYkEVAAEcgxBkBQiLkAvxIIALkG2DfALgAkSULAoekBPwEIAJkO1nJwcryeGbVXUXg7dWstZZf1tWqr9+rahkMBpgZ7s7i4iJdufud4XD4sdfrPS3L8puZoaqklGjbFlXF3QkARVHQNA2Hh4eo6gRiZhsictfM3pRl+cjdERFijJgZRVHg7shgMABgNBohIoQQEBHM7HaM8VcG9vv9tRDCbzPj+PgYgBACZoZyRjHG/NLbbr1t29dN03ByckJ2lKXAVGHs5lpK6XEXklJ6Mj8/v9SNmxXc/aa73wDWgBV3vx5jvCdd8in8Ul3XX1NKP0TkANhz9z/AT9nf3/8HrJzZCmcYedDMcLKnRVFsuPtUdRYAmAVARDZUVT+o6suZXRdIRJ4D73W8iXdmtmlm57rounR3UkqbMcatGCNydHSEmQHQNM1227brs2xnmRn9fn9nbm7uwSRmSonOTL5dFGH8U78vLCxQVRVVVRHqup7YNLPVi+KEEKjrejX3wek/AchulruQ81YNLHcPU+HdfWnqUvWzqj4Tke0cZQy+KiKFiCAiyMHBQe65bGZDd6coii/uvlWW5U4eOnAfeBFjXHd3VPUKMAQI2a6ZjXq93qsQwt+2bT/lVzvarapq18weNk1zy8wmQ/kP1ikffp1VN6oAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAACEklEQVQ4jYXSP29cVRDG4WfOvV5viGW8CRIFkCL8EwUFNBSQJiXpQEhIlHwBkkggCuRvAKlpgJaCKlIERUpAApRIQIUoUBSkSBi0BpZd771nKHa9ibEdppwz72/mnTORN8+TqHNOFmoABTWfNek/Mdx4Uzu4ISsR1Mpkl1JQFBDok3Hyd2ES/FnYrdv6+pzZ5F39P/QT+imzv6j9ArjsZwVqkmEwbBh4RpOvKoW+f003eUru0U3oOuKu9CBEMpsz7ZnP33NvdM07coN+sLAf/gtZZvYfh+URWV+/2yDo6xuafkRd2diPVuYT5ON4GmdkPmZv/vyhysh1s+mXqh9wG7dk/oQfI78994vMMwcEmYcY98nfKkpsHyo+CnBkPmmb7SLiY1EuH636n2jioiY+ak1/Jb0v66OazYvaB8nueGG0dGPmf3ygxBVrrcjbHy4nS8ZfX7X73QXt5vGQbszWC9dsvfSykpSimN+hu0PdIWc3RHt/Cz2G5XsPn+ChhlFo7Xy6HDOow7OaDdTjIesjdm6e9ftXi+nRiq0lBJGn5L2A5fUd+NqKwSk5WFUVfdAHXVBjtNJCKZ+LeEtprq72BhmnKc3i4IvIb17cB26q/XjRaP0LrSuyXNNV2jXCef38krp3QQ2ibJHjpZ2Ty4XlngfW3nZi8LPd3z4TLTUXY2XStNet1eumo1fE/Emlm8iFxX8BAgLTdkvSIzoAAAAASUVORK5CYII="},function(t,e,s){s(25);var n=s(0)(s(12),s(46),null,null);t.exports=n.exports},function(t,e,s){s(33);var n=s(0)(s(15),s(54),null,null);t.exports=n.exports},function(t,e,s){s(35);var n=s(0)(s(16),s(56),null,null);t.exports=n.exports},function(t,e,s){s(34);var n=s(0)(s(17),s(55),null,null);t.exports=n.exports},function(t,e,s){s(32);var n=s(0)(s(19),s(53),null,null);t.exports=n.exports},function(t,e,s){s(27);var n=s(0)(s(20),s(48),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("p",[t._v("index page")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._b({staticClass:"movie-wrapper",on:{click:t.toDetailPage}},"div",{dataId:t.movie.id}),[s("img",{staticClass:"movie-poster",attrs:{src:t.movie.coverImg}}),t._v(" "),s("h3",{staticClass:"movie-name"},[t._v(t._s(t.movie.title))]),t._v(" "),s("star",{attrs:{arrs:t.movie.starArr,score:t.movie.score}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"movieMore-wrapper"},[s("topbar",{attrs:{title:t.title,showBack:!0}}),t._v(" "),t.isDone?s("loading"):t._e(),t._v(" "),s("div",{staticClass:"movies-wrapper"},t._l(t.movies,function(t){return s("movieitem",{attrs:{movie:t}})}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view"),t._v(" "),s("div",{staticClass:"nav-bar"},[s("div",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-text",attrs:{to:"/index"}},[s("span",{staticClass:"nav-item-icon nav-item-icon1"}),s("br"),t._v("主页\n        ")])],1),t._v(" "),s("div",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-text",attrs:{to:"/movie"}},[s("span",{staticClass:"nav-item-icon nav-item-icon2"}),t._v(" "),s("p",[t._v("电影")])])],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("form",{attrs:{action:"#",method:"get"},on:{submit:function(e){e.preventDefault(),t.doSubmit(e)}}},[s("input",{attrs:{type:"text",placeholder:"用户名",id:"username"},domProps:{value:t.uname}}),t._v(" "),s("input",{attrs:{type:"password",placeholder:"密码",id:"password"},domProps:{value:t.pws}}),t._v(" "),s("input",{attrs:{type:"submit",value:"登录"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topbar-wrapper"},[t.showBack?s("span",{staticClass:"back",on:{click:t.backToPre}},[t._v("<")]):t._e(),t._v(" "),s("h3",{staticClass:"title"},[t._v(t._s(t.title))])])},staticRenderFns:[]}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"star-container"},[n("ul",{staticClass:"stars"},[t._l(t.arrs,function(e){return n("li",[e?n("img",{attrs:{src:s(39)}}):t._e(),t._v(" "),e?t._e():n("img",{attrs:{src:s(38)}})])}),t._v(" "),n("li",{staticClass:"score"},[t._v(t._s(t.score))])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"movie-list-wrapper"},[s("div",{staticClass:"title-top clearfix"},[s("h3",{staticClass:"list-title"},[t._v(t._s(t.movieList.title))]),t._v(" "),s("p",{staticClass:"more",on:{click:t.toMorePage}},[t._v("更多")])]),t._v(" "),s("div",{staticClass:"movies-wrapper"},t._l(t.movieList.movies,function(t){return s("movieitem",{attrs:{movie:t}})}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"movies-container"},[s("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"moviesIndex-container"},[t.isDone?s("loading"):t._e(),t._v(" "),s("movielist",{attrs:{movieList:t.inTheaters}}),t._v(" "),s("movielist",{attrs:{movieList:t.top250}}),t._v(" "),s("movielist",{attrs:{movieList:t.comSoon}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"movieDetail"},[s("div",{staticClass:"topbar"},[s("topbar",{attrs:{title:t.title,showBack:!0}})],1),t._v(" "),t.isDone?s("loading"):t._e(),t._v(" "),s("div",{staticClass:"top"},[s("div",{staticClass:"info"},[s("h3",{staticClass:"title"},[t._v(t._s(t.movie.title))]),t._v(" "),s("div",{staticClass:"cy"},[s("span",[t._v(t._s(t.movie.country))]),t._v(" · "),s("span",[t._v(t._s(t.movie.year))])]),t._v(" "),s("div",{staticClass:"count"},[s("p",{staticClass:"watched"},[s("span",{staticClass:"countNum"},[t._v(t._s(t.movie.collectCount))]),t._v("人看过")]),t._v(" "),s("p",{staticClass:"comment"},[s("span",{staticClass:"countNum"},[t._v(t._s(t.movie.reviewsCount))]),t._v("跳评论")])])]),t._v(" "),s("img",{staticClass:"poster",attrs:{src:t.movie.image,alt:""}}),t._v(" "),s("img",{staticClass:"bg",attrs:{src:t.movie.image,alt:""}})]),t._v(" "),s("div",{staticClass:"movieInfo border-bom"},[s("div",{staticClass:"infoItem"},[s("span",{staticClass:"title"},[t._v("评分: ")]),t._v(" "),s("star",{attrs:{arrs:t.movie.starScore,score:t.movie.rating}})],1),t._v(" "),s("div",{staticClass:"infoItem"},[s("span",{staticClass:"title"},[t._v("导演: ")]),t._v(" "),s("p",{staticClass:"content"},[t._v(t._s(t.movie.director))])]),t._v(" "),s("div",{staticClass:"infoItem"},[s("span",{staticClass:"title"},[t._v("演员: ")]),t._v(" "),s("p",{staticClass:"content"},t._l(t.movie.casts,function(e){return s("span",[t._v(t._s(e.name)+" ")])}))]),t._v(" "),s("div",{staticClass:"infoItem"},[s("span",{staticClass:"title"},[t._v("类型: ")]),t._v(" "),s("p",{staticClass:"content"},t._l(t.movie.genres,function(e){return s("span",[t._v(t._s(e)+" ")])}))])]),t._v(" "),s("div",{staticClass:"summary border-bom"},[s("h3",{staticClass:"cTitle"},[t._v("剧情简介")]),t._v(" "),s("p",{staticClass:"content"},[t._v(t._s(t.movie.summary))])]),t._v(" "),s("div",{staticClass:"casts"},[s("h3",{staticClass:"cTitle"},[t._v("演员")]),t._v(" "),s("div",{staticClass:"casts-wrap"},t._l(t.movie.casts,function(e){return s("div",{staticClass:"cast"},[s("img",{staticClass:"avatar",attrs:{src:e.avatar,alt:""}}),t._v(" "),s("p",{staticClass:"name"},[t._v(t._s(e.name))])])}))])],1)},staticRenderFns:[]}},function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loadingWrap"},[n("img",{staticClass:"loading",attrs:{src:s(37),alt:""}})])}]}},,,,function(t,e){}],[24]);
//# sourceMappingURL=app.22b2fd9d7bac97ef6064.js.map